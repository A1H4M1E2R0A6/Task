<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

<body>






  <!DOCTYPE html>
  <html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
  </head>

  <body>
    <!-- <h1>Login</h1>
    <form  onsubmit="">
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" required>
  
      <label for="password">Password:</label>
      <input type="password" id="password" name="password" required>
  
      <button type="submit">Login</button>
    </form> -->
    <form  id="loginForm" onsubmit="">

      <div onsubmit="submit" class="form-outline mb-4">
        <label class="form-label" for="email" style="font-weight: 400;" style="font-size:1.2rem">Email address</label>
        <input type="email" id="email" required="required"  width="1" maxlength="30"
          minlength="10" />
      </div>
      <div class="form-outline mb-4">
        <label class="form-label" for="password" maxlength="30" style="font-weight: 400 " style="font-size:1.2rem"
          minlength="8">Password</label>
        <input type="password" id="password" required="required"  width="1" />
      </div>
 <button onsubmit=""> </button>
      <div class="col">
        <a href="./login.html">Forgot password?</a>
      </div>
      </div>
    </form>

    <script src="login.js">
      
    </script>




































    <!-- <script src="app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-auth.js"></script>
    <script>
  //  function Login=onsubmit  async (req, res, next) => {

if (
    !req.body?.email
    || !req.body?.password
) {
    res.status(403);
    res.send(`required parameters missing, 
    example request body:
    {
        email: "some@email.com",
        password: "some$password",
    } `);
    return;
}
req.body.email = req.body.email.toLowerCase();

try {
    let result = await userCollection.findOne({ email: req.body.email });
    console.log("result: ", result);

    if (!result) { // user not found
        res.status(403).send({
            message: "email or password incorrect"
        });
        return;
    } else { // user found


        const isMatch = await varifyHash(req.body.password, result.password)

        if (isMatch) {
            
            const token = jwt.sign({
                isAdmin: false,
                firstName: result.firstName,
                lastName: result.lastName,
                email: req.body.email,
            }, process.env.SECRET, {
                expiresIn: '24h'
            });

            res.cookie('token', token, {
                httpOnly: true,
                secure: true,
                // expires: new Date(dateAfter2MinInMili)
            });

            res.send({
                message: "login successful"
            });
            return;
        } else {
            res.status(401).send({
                message: "email or password incorrect"
            })
            return;
        }
    }

} catch (e) {
    console.log("error getting data mongodb: ", e);
    res.status(500).send('server error, please try later');
}

    </script>
  </body>
  </html>
  





 -->
















    <!-- <form>
        
      
        Submit button 
        <button type="Onsubmit( )" class="btn btn-primary btn-block mb-4">Log in</button>
      
        Register buttons 
        <div class="text-center">
          <p>Not a member? <a href="">Register</a></p>
          <p>or sign up with:</p>
          <button type="button" class="btn btn-link btn-floating mx-1">
            <i class="fab fa-facebook-f"></i>
          </button>
      
          <button type="button" class="btn btn-link btn-floating mx-1">
            <i class="fab fa-google"></i>
          </button>
      
          <button type="button" class="btn btn-link btn-floating mx-1">
            <i class="fab fa-twitter"></i>
          </button>
      
          <button type="button" class="btn btn-link btn-floating mx-1">
            <i class="fab fa-github"></i>
          </button>
        </div>
      </form> -->
  </body>

  </html>